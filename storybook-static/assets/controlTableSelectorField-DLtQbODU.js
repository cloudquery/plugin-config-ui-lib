import{j as l}from"./jsx-runtime-DWbWqHZ-.js";import{r as u,R as C}from"./index-l2PZgWEW.js";import{ah as W,a as M,b as _,s as A,e as D,L as E,k as L,l as V,m as ce,ai as ue,E as Y,aj as K,u as U,v as de,c as J,f as me,h as pe,t as fe,K as ge,T as be,B as N,H as he,ak as xe,S as X,P as ye,al as ve,F as Te,y as Se}from"./index-CwmUooIP.js";import{u as Re}from"./plugin-ChsixANh.js";import{a as Ce,R as B}from"./Radio-gpNCx2Mc.js";import{F as P}from"./FormControlLabel-CAUqNGEX.js";import{C as Z}from"./Checkbox-q0gVQpli.js";import"./index-CaNG7YX3.js";import"./iframe-B3BX2Lps.js";import"../sb-preview/runtime.js";import"./inheritsLoose-Wf0S0NFo.js";import"./SwitchBase-1nzuM3L1.js";function we(o){var r;const e=new Map;if(!o)return[];for(const n of o){const s=e.get(n.name);if(e.set(n.name,{...n,...s,parentTable:void 0,parent:"",relationTables:[],...e.get(n.name)}),n.relations.length>0)for(const i of n.relations){const m=e.get(i);e.set(i,{...m,parent:n.name})}}const t=Array.from(e.values());for(const n of t)if(n.parent&&(n.parentTable=e.get(n.parent)),(((r=n.relations)==null?void 0:r.length)??0)>0)for(const s of n.relations){const i=e.get(s);i&&n.relationTables.push(i)}return t}function Q({children:o,...e}){const t=u.useRef(null),r=u.useCallback(n=>{if(n.target===t.current){const s=t.current.querySelector('[aria-selected="true"]');if(s)s.focus();else{const i=t.current.querySelector('[role="treeitem"]');i==null||i.focus()}}},[]);return l.jsx(W,{ref:t,onFocus:r,role:"tree",tabIndex:0,...e,children:o})}Q.__docgenInfo={description:`This component is used as root element for the tree.

@public`,methods:[],displayName:"TreeRoot",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}},composes:["ListProps"]};const ee=({children:o,...e})=>l.jsx(W,{role:"group",...e,children:o}),Ie=C.memo(ee);ee.__docgenInfo={description:"",methods:[],displayName:"_TreeGroup",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}},composes:["ListProps"]};function je(o){return _("MuiListItem",o)}M("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const ke=M("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Fe(o){return _("MuiListItemSecondaryAction",o)}M("MuiListItemSecondaryAction",["root","disableGutters"]);const Pe=o=>{const{disableGutters:e,classes:t}=o;return V({root:["root",e&&"disableGutters"]},Fe,t)},Le=A("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:t}=o;return[e.root,t.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:o})=>o.disableGutters,style:{right:0}}]}),te=u.forwardRef(function(e,t){const r=D({props:e,name:"MuiListItemSecondaryAction"}),{className:n,...s}=r,i=u.useContext(E),m={...r,disableGutters:i.disableGutters},a=Pe(m);return l.jsx(Le,{className:L(a.root,n),ownerState:m,ref:t,...s})});te.muiName="ListItemSecondaryAction";const Me=(o,e)=>{const{ownerState:t}=o;return[e.root,t.dense&&e.dense,t.alignItems==="flex-start"&&e.alignItemsFlexStart,t.divider&&e.divider,!t.disableGutters&&e.gutters,!t.disablePadding&&e.padding,t.hasSecondaryAction&&e.secondaryAction]},Ae=o=>{const{alignItems:e,classes:t,dense:r,disableGutters:n,disablePadding:s,divider:i,hasSecondaryAction:m}=o;return V({root:["root",r&&"dense",!n&&"gutters",!s&&"padding",i&&"divider",e==="flex-start"&&"alignItemsFlexStart",m&&"secondaryAction"],container:["container"]},je,t)},qe=A("div",{name:"MuiListItem",slot:"Root",overridesResolver:Me})(ce(({theme:o})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${ke.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(o.vars||o).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:o.transitions.create("background-color",{duration:o.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(o.vars||o).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),Ge=A("li",{name:"MuiListItem",slot:"Container",overridesResolver:(o,e)=>e.container})({position:"relative"}),Ee=u.forwardRef(function(e,t){const r=D({props:e,name:"MuiListItem"}),{alignItems:n="center",children:s,className:i,component:m,components:a={},componentsProps:c={},ContainerComponent:f="li",ContainerProps:{className:d,...p}={},dense:g=!1,disableGutters:h=!1,disablePadding:v=!1,divider:y=!1,secondaryAction:S,slotProps:x={},slots:$={},...w}=r,I=u.useContext(E),j=u.useMemo(()=>({dense:g||I.dense||!1,alignItems:n,disableGutters:h}),[n,I.dense,g,h]),b=u.useRef(null),T=u.Children.toArray(s),z=T.length&&ue(T[T.length-1],["ListItemSecondaryAction"]),q={...r,alignItems:n,dense:j.dense,disableGutters:h,disablePadding:v,divider:y,hasSecondaryAction:z},O=Ae(q),H=Y(b,t),G=$.root||a.Root||qe,k=x.root||c.root||{},F={className:L(O.root,k.className,i),...w};let R=m||"li";return z?(R=!F.component&&!m?"div":R,f==="li"&&(R==="li"?R="div":F.component==="li"&&(F.component="div")),l.jsx(E.Provider,{value:j,children:l.jsxs(Ge,{as:f,className:L(O.container,d),ref:H,ownerState:q,...p,children:[l.jsx(G,{...k,...!K(G)&&{as:R,ownerState:{...q,...k.ownerState}},...F,children:T}),T.pop()]})})):l.jsx(E.Provider,{value:j,children:l.jsxs(G,{...k,as:R,ref:H,...!K(G)&&{ownerState:{...q,...k.ownerState}},...F,children:[T,S&&l.jsx(te,{children:S})]})})});function Ne(o){const e=u.useRef(null),t=u.useCallback(a=>{var f,d;if(!a)return;const c=a.querySelector('[role="group"]');if(c&&c.firstElementChild)c.firstElementChild.focus();else{let p=a.nextElementSibling;for(;p&&p.getAttribute("role")!=="treeitem";)p=p.nextElementSibling;if(p)p.focus();else{let g=(f=a.parentElement)==null?void 0:f.closest('[role="treeitem"]');for(;g;){for(p=g.nextElementSibling;p&&p.getAttribute("role")!=="treeitem";)p=p.nextElementSibling;if(p){p.focus();break}g=(d=g.parentElement)==null?void 0:d.closest('[role="treeitem"]')}}}},[]),r=u.useCallback(a=>{var f;if(!a)return;let c=a.previousElementSibling;for(;c&&c.getAttribute("role")!=="treeitem";)c=c.previousElementSibling;if(c){const d=c.querySelector('[role="group"]');d&&d.lastElementChild?d.lastElementChild.focus():c.focus()}else{const d=(f=a.parentElement)==null?void 0:f.closest('[role="treeitem"]');d==null||d.focus()}},[]),n=u.useCallback(()=>{const a=document.querySelector('[role="treeitem"]');a==null||a.focus()},[]),s=u.useCallback(()=>{const c=Array.from(document.querySelectorAll('[role="treeitem"]')).at(-1);c==null||c.focus()},[]),i=u.useCallback(()=>{var a;(a=e.current)==null||a.scrollIntoView({behavior:"smooth",block:"nearest"})},[]),m=u.useCallback(a=>{var c;if(a.shiftKey&&a.key==="Tab"){const f=(c=e.current)==null?void 0:c.closest('[role="tree"]'),d=f?_e(f):null;d&&(d.focus(),a.preventDefault());return}switch(a.key){case"ArrowDown":{t(e.current),a.preventDefault(),a.stopPropagation();break}case"ArrowUp":{r(e.current),a.preventDefault(),a.stopPropagation();break}case"Home":{n(),a.preventDefault(),a.stopPropagation();break}case"End":{s(),a.preventDefault(),a.stopPropagation();break}case"Enter":case" ":{o(),a.preventDefault(),a.stopPropagation();break}}},[n,s,t,r,o]);return{handleFocus:i,handleKeyDown:m,listItemRef:e}}const _e=o=>{const t=Array.from(document.querySelectorAll('a, button, input, select, textarea, [tabindex]:not([tabindex="-1"])')),r=t.indexOf(o);let n=null;for(let s=r-1;s>=0;s--)if(t[s].offsetParent!==null){n=t[s];break}return n},oe=({children:o,isExpanded:e,isSelected:t,onSelect:r,sx:n,...s})=>{const{palette:i}=U(),{handleFocus:m,handleKeyDown:a,listItemRef:c}=Ne(r);return l.jsx(Ee,{ref:c,"aria-expanded":e,"aria-selected":t,onFocus:m,onKeyDown:a,role:"treeitem",sx:{"&:focus>*:first-of-type:not(ul)":{bgcolor:de(i.primary.main,.12)},"&>*:first-of-type:not(ul):hover":{bgcolor:i.action.hover,cursor:"pointer"},display:"block",outline:"none",padding:0,...n},tabIndex:-1,...s,children:o})},Ve=C.memo(oe);oe.__docgenInfo={description:"",methods:[],displayName:"_TreeNode",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},isExpanded:{required:!0,tsType:{name:"boolean"},description:""},isSelected:{required:!0,tsType:{name:"boolean"},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}},composes:["ListItemProps"]};const $e=J(l.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt");function Be(o){return _("MuiFormGroup",o)}M("MuiFormGroup",["root","row","error"]);const De=o=>{const{classes:e,row:t,error:r}=o;return V({root:["root",t&&"row",r&&"error"]},Be,e)},Ue=A("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:t}=o;return[e.root,t.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),ze=u.forwardRef(function(e,t){const r=D({props:e,name:"MuiFormGroup"}),{className:n,row:s=!1,...i}=r,m=me(),a=pe({props:r,muiFormControl:m,states:["error"]}),c={...r,row:s,error:a.error},f=De(c);return l.jsx(Ue,{className:L(f.root,n),ownerState:c,ref:t,...i})});function Oe(o){return _("MuiRadioGroup",o)}M("MuiRadioGroup",["root","row","error"]);const He=o=>{const{classes:e,row:t,error:r}=o;return V({root:["root",t&&"row",r&&"error"]},Oe,e)},Ke=u.forwardRef(function(e,t){const{actions:r,children:n,className:s,defaultValue:i,name:m,onChange:a,value:c,...f}=e,d=u.useRef(null),p=He(e),[g,h]=fe({controlled:c,default:i,name:"RadioGroup"});u.useImperativeHandle(r,()=>({focus:()=>{let x=d.current.querySelector("input:not(:disabled):checked");x||(x=d.current.querySelector("input:not(:disabled)")),x&&x.focus()}}),[]);const v=Y(t,d),y=ge(m),S=u.useMemo(()=>({name:y,onChange(x){h(x.target.value),a&&a(x,x.target.value)},value:g}),[y,a,h,g]);return l.jsx(Ce.Provider,{value:S,children:l.jsx(ze,{role:"radiogroup",ref:v,className:L(p.root,s),...f,children:n})})}),We=J(l.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),Ye=A(be)(({theme:o})=>({"& .MuiInputBase-input":{"&::placeholder":{color:o.palette.neutral[200]},color:o.palette.neutral[200],padding:0},"& .MuiInputBase-root":{backgroundColor:o.palette.background.paperTertiary,border:"none",borderRadius:12,height:52,padding:"0 24px",width:"100%"}}));function ne(o){return l.jsx(Ye,{...o,slotProps:{input:{startAdornment:l.jsx(We,{sx:{fontSize:20,marginRight:1}})}}})}ne.__docgenInfo={description:`This component displays a search field

@public`,methods:[],displayName:"SearchInput"};function re({onSearchChange:o,onTableTypeChange:e,searchValue:t,tableTypeValue:r,disabled:n}){const{palette:s}=U(),[i,m]=u.useState(!1),a=u.useRef(null),c=u.useId(),f=u.useId();return l.jsxs(l.Fragment,{children:[l.jsx(ne,{fullWidth:!0,onChange:d=>o(d.target.value),placeholder:"Search tables",value:t,disabled:n}),l.jsxs(N,{children:[l.jsx(he,{ref:a,disabled:n,"aria-controls":i?c:void 0,"aria-expanded":i?"true":void 0,"aria-haspopup":"true",endIcon:l.jsx($e,{}),id:f,onClick:()=>m(!0),sx:{borderColor:s.neutral[300],color:r==="all"?s.text.secondary:s.text.primary,height:"100%"},variant:"outlined",children:"Filter"}),l.jsx(xe,{anchorEl:a.current,anchorOrigin:{horizontal:"right",vertical:"top"},id:c,MenuListProps:{"aria-labelledby":f},onClose:()=>m(!1),open:i||!1,transformOrigin:{horizontal:"right",vertical:-60},children:l.jsx(N,{sx:{paddingLeft:1.5,paddingRight:2.5},children:l.jsxs(Ke,{onChange:d=>e(d.target.value),sx:{paddingLeft:.5,paddingRight:1.5},value:r,children:[l.jsx(P,{control:l.jsx(B,{size:"small"}),label:"Show all",value:"all"}),l.jsx(P,{control:l.jsx(B,{size:"small"}),label:"Show selected",value:"selected"}),l.jsx(P,{control:l.jsx(B,{size:"small"}),label:"Show unselected",value:"unselected"})]})})})]})]})}re.__docgenInfo={description:"",methods:[],displayName:"TableSelectorFilters",props:{onSearchChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onTableTypeChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: 'all' | 'selected' | 'unselected') => void",signature:{arguments:[{type:{name:"union",raw:"'all' | 'selected' | 'unselected'",elements:[{name:"literal",value:"'all'"},{name:"literal",value:"'selected'"},{name:"literal",value:"'unselected'"}]},name:"value"}],return:{name:"void"}}},description:""},searchValue:{required:!0,tsType:{name:"string"},description:""},tableTypeValue:{required:!0,tsType:{name:"union",raw:"'all' | 'selected' | 'unselected'",elements:[{name:"literal",value:"'all'"},{name:"literal",value:"'selected'"},{name:"literal",value:"'unselected'"}]},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""}}};const se=({valuesRef:o,subscribeToTablesValueChange:e,onSelect:t,selectedAsIndeterminate:r,tableListItem:n,disabled:s})=>{const[i,m]=C.useState(!!o.current[n.name]),a=C.useRef(i);a.current=i;const c=r&&i,f=u.useCallback(()=>t(n),[t,n]);return u.useEffect(()=>e(p=>{const g=!!p[n.name];g!==a.current&&m(g)}),[e,n.name]),l.jsxs(Ve,{isExpanded:!0,isSelected:i,onSelect:f,sx:{paddingLeft:3},children:[l.jsx(X,{sx:{borderRadius:1,marginBottom:.25},children:l.jsx(P,{disabled:s,control:l.jsx(Z,{disabled:s,checked:i,indeterminate:c,name:n.name,onChange:f,size:"small",sx:{"&:hover":{backgroundColor:"transparent"}},tabIndex:-1}),label:n.name,sx:{borderRadius:1,marginLeft:0,overflowWrap:"anywhere"}})}),n.relationTables.length>0&&l.jsx(Ie,{sx:{padding:0,paddingY:0},children:n.relationTables.map(d=>l.jsx(ae,{onSelect:t,valuesRef:o,selectedAsIndeterminate:r,tableListItem:d,subscribeToTablesValueChange:e,disabled:s},`${d.parent}-${d.name}`))})]})},ae=C.memo(se);se.__docgenInfo={description:"",methods:[],displayName:"_TableSelectorListItem",props:{valuesRef:{required:!0,tsType:{name:"ReactMutableRefObject",raw:"React.MutableRefObject<Record<string, boolean>>",elements:[{name:"Record",elements:[{name:"string"},{name:"boolean"}],raw:"Record<string, boolean>"}]},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(tableListItem: PluginTableListItem) => void",signature:{arguments:[{type:{name:"PluginTableListItem"},name:"tableListItem"}],return:{name:"void"}}},description:""},selectedAsIndeterminate:{required:!0,tsType:{name:"boolean"},description:""},tableListItem:{required:!0,tsType:{name:"PluginTableListItem"},description:""},subscribeToTablesValueChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(callback: Callback) => Unsubscribe",signature:{arguments:[{type:{name:"signature",type:"function",raw:"(tableValues: Record<string, boolean>) => void",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"boolean"}],raw:"Record<string, boolean>"},name:"tableValues"}],return:{name:"void"}}},name:"callback"}],return:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}}}},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""}}};function Je(o,e){const t={...o};if(o[e.name]){delete t[e.name];const r=n=>{if(n.relationTables.length>0)for(const s of n.relationTables)delete t[s.name],r(s)};r(e)}else{t[e.name]=!0;let r=e;for(;r.parentTable;)t[r.parentTable.name]=!0,r=r.parentTable}return t}function Xe(o,e,t,r){if(!t&&r==="all")return o;const n=s=>{const i=s.relationTables.map(m=>n(m)).filter(Boolean);if(i.length>0)return{...s,relationTables:i};if(!(r==="selected"&&!e[s.name]||r==="unselected"&&e[s.name]))return s.name.toLowerCase().includes(t)?s:void 0};return o.map(s=>n(s)).filter(Boolean)}function Ze(o){const e=t=>{const r=[t];if(t.relationTables.length>0)for(const n of t.relationTables)r.push(...e(n));return r};return o.flatMap(t=>e(t))}function le({subscribeToTablesValueChange:o,errorMessage:e,value:t={},onChange:r,tableList:n,disabled:s}){const{palette:i}=U(),[m,a]=u.useState(""),[c,f]=u.useState("all"),d=u.useRef([]),p=u.useRef(!1),g=u.useRef(t),h=m.trim().toLowerCase(),v=u.useMemo(()=>Xe(n,t,h,c).filter(b=>!b.parent),[c,h,t,n]),y=u.useMemo(()=>Ze(v),[v]),S=u.useMemo(()=>y.every(b=>t[b.name]),[y,t]);d.current=y,g.current=t,p.current=S;const x=u.useCallback(b=>{r(Je(g.current,b))},[r]),$=u.useCallback(()=>{if(p.current){const b={...g.current};for(const T of d.current)delete b[T.name];r(b)}else r({...g.current,...Object.fromEntries(d.current.map(({name:b})=>[b,!0]))})},[r]),w=v.length===0,I=Object.values(t).filter(Boolean).length,j=Math.min(n.length,11)*40;return l.jsxs(N,{sx:{border:`1px solid ${e?i.error.main:i.text.secondary}`,borderRadius:1,padding:2},children:[l.jsx(X,{direction:"row",spacing:1,sx:{marginBottom:2},children:l.jsx(re,{onSearchChange:a,onTableTypeChange:f,searchValue:m,tableTypeValue:c,disabled:s})}),l.jsx(P,{disabled:s,control:l.jsx(Z,{disabled:s||w,checked:S||w,onChange:$,size:"small",sx:{"&:hover":{backgroundColor:"transparent"}}}),label:h?`${y.length} results of ${n.length} tables (${I} selected)`:`${n.length} tables (${I} selected)`,sx:{marginLeft:0,width:"100%"}}),l.jsx(N,{sx:{height:`min(${j}px, 90vh)`,maxHeight:"90vh",overflow:"auto"},children:!w&&l.jsx(Q,{sx:{maxWidth:"100%",paddingY:0},children:v.map(b=>l.jsx(ae,{valuesRef:g,subscribeToTablesValueChange:o,onSelect:x,selectedAsIndeterminate:c==="unselected",tableListItem:b,disabled:s},`${b.parent}-${b.name}`))})})]})}le.__docgenInfo={description:`This component allows users to select tables from a list with filtering options.

@public`,methods:[],displayName:"TableSelector",props:{subscribeToTablesValueChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(callback: Callback) => Unsubscribe",signature:{arguments:[{type:{name:"signature",type:"function",raw:"(tableValues: Record<string, boolean>) => void",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"boolean"}],raw:"Record<string, boolean>"},name:"tableValues"}],return:{name:"void"}}},name:"callback"}],return:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}}}},description:`This function is used to subscribe to the table values change.
It returns a function to unsubscribe.`},errorMessage:{required:!1,tsType:{name:"string"},description:"Error message to display if there is an error."},value:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"boolean"}],raw:"Record<string, boolean>"},description:"Current selected table values.",defaultValue:{value:"{}",computed:!1}},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: Record<string, boolean>) => void",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"boolean"}],raw:"Record<string, boolean>"},name:"value"}],return:{name:"void"}}},description:"Callback function to handle value changes."},tableList:{required:!0,tsType:{name:"Array",elements:[{name:"PluginTableListItem"}],raw:"PluginTableListItem[]"},description:"List of tables to display in the selector."},disabled:{required:!1,tsType:{name:"boolean"},description:"Form disabled boolean"}}};function ie(){var d;const{control:o,formState:{errors:e,submitCount:t},setValue:r,trigger:n}=ye(),{tablesList:s}=Re(),i=ve({exact:!0,name:"tables"}),m=u.useMemo(()=>we(s),[s]),a=u.useCallback(p=>{r("tables",p),n("tables")},[r,n]),c=t>0?(d=e==null?void 0:e.tables)==null?void 0:d.message:null,f=u.useCallback(p=>{const{unsubscribe:g}=o._subjects.values.subscribe({next(h){p(h.values.tables)}});return g},[o]);return m.length===0?null:l.jsxs(Te,{children:[l.jsx(le,{errorMessage:c,onChange:a,subscribeToTablesValueChange:f,tableList:m,disabled:m.length===1,value:i}),l.jsx(Se,{error:!!c,children:c})]})}const dt=C.memo(ie);ie.__docgenInfo={description:"",methods:[],displayName:"_PluginTableSelector"};export{dt as ControlTableSelectorField};
